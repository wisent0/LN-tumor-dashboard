:root {
    --bg: #ffffff;
    --c-root: #0089cc;    /* Bright Blue Center */
    --c-cat: #005f88;     /* Dark Blue Categories */
    --c-item: #ffffff;    /* White Items */
    --line-color: #0089cc;
    --text-main: #333;
}

body { font-family: 'Inter', sans-serif; background: var(--bg); margin: 0; display: flex; flex-direction: column; height: 100vh; overflow: hidden; }

header { padding: 10px 20px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; background: white; z-index: 10; }
h1 { font-size: 1.2rem; color: var(--c-cat); display: flex; align-items: center; gap: 10px; margin: 0; }
.search-input { padding: 6px 10px 6px 30px; border-radius: 20px; border: 1px solid #ccc; width: 200px; }

.container { display: flex; flex-direction: column; flex: 1; overflow: hidden; }

/* TREE PANEL - MIND MAP */
.tree-panel {
    flex: 1; 
    background-image: radial-gradient(#e0f2fe 1px, transparent 1px);
    background-size: 30px 30px;
    overflow: auto; 
    display: flex;
    justify-content: center;
    padding-top: 40px;
    padding-bottom: 40px;
}

.tree { display: flex; justify-content: center; }
.tree ul {
    padding-top: 20px; position: relative;
    display: flex; justify-content: center;
}
.tree li {
    float: left; text-align: center; list-style-type: none;
    position: relative; padding: 20px 5px 0 5px;
}
/* Connectors */
.tree li::before, .tree li::after {
    content: ''; position: absolute; top: 0; right: 50%;
    border-top: 2px solid var(--line-color); width: 50%; height: 20px;
}
.tree li::after { right: auto; left: 50%; border-left: 2px solid var(--line-color); }
.tree li:only-child::after, .tree li:only-child::before { display: none; }
.tree li:only-child { padding-top: 0; }
.tree li:first-child::before, .tree li:last-child::after { border: 0 none; }
.tree li:last-child::before { border-right: 2px solid var(--line-color); border-radius: 0 5px 0 0; }
.tree li:first-child::after { border-radius: 5px 0 0 0; }
.tree ul ul::before {
    content: ''; position: absolute; top: 0; left: 50%;
    border-left: 2px solid var(--line-color); width: 0; height: 20px;
}
.tree ul.hidden { display: none; }

/* BUBBLES */
.node-btn {
    text-decoration: none; display: inline-flex; align-items: center; justify-content: center;
    border-radius: 50px; 
    transition: all 0.3s;
    cursor: pointer;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    border: 2px solid transparent;
    position: relative;
    z-index: 2;
}

/* Root Node */
.node-btn[data-key="root"] {
    width: 130px; height: 130px; border-radius: 50%;
    background: var(--c-root); color: white;
    font-size: 1.2rem; font-weight: 800;
    border: 4px solid white;
    box-shadow: 0 0 0 4px var(--c-root);
}

/* Level 1 Nodes */
.tree > li > ul > li > .node-btn {
    background: var(--c-cat); color: white;
    padding: 10px 20px; min-width: 100px; font-weight: 600;
}

/* Level 2 Nodes */
.tree ul ul ul .node-btn {
    background: white; color: #333;
    border: 2px solid var(--c-root);
    padding: 8px 15px; font-weight: 500; font-size: 0.9rem;
}

.node-btn:hover { transform: scale(1.1); z-index: 10; }
.node-btn.selected { background: #ffd700 !important; color: black !important; border-color: black; }

/* DETAIL PANEL */
.detail-panel {
    height: 40%; background: #f9fafb; border-top: 4px solid var(--c-root);
    overflow-y: auto; padding: 20px;
    box-shadow: 0 -4px 20px rgba(0,0,0,0.1);
}
.content-container { max-width: 800px; margin: 0 auto; }
.detail-title { font-size: 1.5rem; font-weight: 700; color: var(--c-cat); margin-bottom: 10px; }
.tag { background: #e0f2fe; color: #0369a1; padding: 4px 8px; border-radius: 4px; font-size: 0.8rem; margin-right: 5px; }

/* MOBILE */
@media (max-width: 768px) {
    .tree-panel { display: block; padding: 10px; }
    .tree ul { display: block; padding: 0; }
    .tree li { float: none; display: block; text-align: left; padding: 5px 0; width: 100%; }
    .tree li::before, .tree li::after, .tree ul ul::before { display: none; }
    .node-btn { width: 100%; border-radius: 8px; justify-content: flex-start; padding: 12px; height: auto; margin-bottom: 5px; }
}